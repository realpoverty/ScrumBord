<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrum at School - Agile Board</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .team-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .team-selector label {
            font-weight: 600;
            color: #667eea;
        }

        .team-selector select,
        .team-selector input {
            padding: 8px 15px;
            border: 2px solid #e9ecef;
            border-radius: 5px;
            font-size: 14px;
            font-weight: 600;
        }

        .team-selector button {
            padding: 8px 15px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .team-selector button:hover {
            background: #5568d3;
        }

        .current-team {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: 600;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .save-controls {
            margin-left: auto;
            display: flex;
            gap: 10px;
        }

        .save-btn, .load-btn, .export-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .save-btn:hover {
            background: #218838;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .load-btn {
            background: #17a2b8;
        }

        .load-btn:hover {
            background: #138496;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .export-btn {
            background: #6c757d;
        }

        .export-btn:hover {
            background: #5a6268;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .status-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 2000;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s;
        }

        .status-message.show {
            opacity: 1;
            transform: translateY(0);
        }

        .status-message.error {
            background: #dc3545;
        }

        .admin-btn {
            background: #ffc107;
            color: #333;
        }

        .admin-btn:hover {
            background: #e0a800;
        }

        .team-list {
            max-height: 400px;
            overflow-y: auto;
            margin-top: 20px;
        }

        .team-item {
            background: #f8f9fa;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid #667eea;
        }

        .team-item-info h4 {
            margin: 0 0 5px 0;
            color: #333;
        }

        .team-item-info p {
            margin: 0;
            font-size: 0.9em;
            color: #666;
        }

        .team-item-actions {
            display: flex;
            gap: 10px;
        }

        .team-item-actions button {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-view {
            background: #17a2b8;
            color: white;
        }

        .btn-view:hover {
            background: #138496;
        }

        .btn-delete-team {
            background: #dc3545;
            color: white;
        }

        .btn-delete-team:hover {
            background: #c82333;
        }

        .welcome-screen {
            text-align: center;
            padding: 60px 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 50px auto;
        }

        .welcome-screen h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .welcome-screen p {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .welcome-screen input {
            width: 100%;
            max-width: 400px;
            padding: 15px;
            font-size: 16px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .welcome-screen input:focus {
            outline: none;
            border-color: #667eea;
        }

        .welcome-screen button {
            padding: 15px 40px;
            font-size: 16px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .welcome-screen button:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .tab-button {
            background: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .tab-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .tab-button.active {
            background: #4CAF50;
            color: white;
        }

        .tab-content {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .tab-content.active {
            display: block;
        }

        /* Scrum Board Styles */
        .board {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .column {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            min-height: 400px;
        }

        .column-header {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            color: white;
        }

        .backlog { background: #6c757d; }
        .sprint-backlog { background: #9b59b6; }
        .todo { background: #007bff; }
        .doing { background: #ffc107; color: #333 !important; }
        .review { background: #17a2b8; }
        .done { background: #28a745; }

        .card {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            cursor: move;
            border-left: 4px solid #667eea;
            transition: all 0.3s;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }

        .card-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
        }

        .card-description {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 8px;
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.8em;
            color: #999;
        }

        .delete-card {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 14px;
            line-height: 1;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .card {
            position: relative;
        }

        .card:hover .delete-card {
            opacity: 1;
        }

        .delete-card:hover {
            background: #c82333;
        }

        .add-card-btn {
            width: 100%;
            padding: 10px;
            background: #e9ecef;
            border: 2px dashed #adb5bd;
            border-radius: 5px;
            cursor: pointer;
            color: #6c757d;
            font-weight: 600;
            transition: all 0.3s;
        }

        .add-card-btn:hover {
            background: #dee2e6;
            border-color: #6c757d;
        }

        /* Questions Section */
        .questions-section {
            margin-top: 30px;
        }

        .question-category {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-category h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .question {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .question strong {
            color: #333;
            display: block;
            margin-bottom: 5px;
        }

        .answer-area {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 5px;
            font-family: inherit;
            resize: vertical;
            margin-top: 10px;
        }

        .answer-area:focus {
            outline: none;
            border-color: #667eea;
        }

        /* Sprint Info */
        .sprint-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .info-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .info-card h4 {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .info-card p {
            font-size: 1.5em;
            font-weight: bold;
            cursor: text;
            border-radius: 5px;
            padding: 5px;
            transition: background 0.3s;
        }

        .info-card p:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .info-card p:focus {
            outline: 2px solid white;
            background: rgba(255, 255, 255, 0.3);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .modal-content h3 {
            margin-bottom: 20px;
            color: #333;
        }

        .modal-content input,
        .modal-content textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 2px solid #e9ecef;
            border-radius: 5px;
            font-family: inherit;
        }

        .modal-content input:focus,
        .modal-content textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        @media (max-width: 768px) {
            .board {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ Scrum at School</h1>

        <!-- Welcome Screen (shown on first visit) -->
        <div id="welcomeScreen" class="welcome-screen" style="display: none;">
            <h2>üëã Welkom bij Scrum at School!</h2>
            <p>Voer je teamnaam in om te beginnen:</p>
            <input type="text" id="newTeamName" placeholder="Bijv: Team Waterstof, H3C Groep 1, etc." maxlength="50">
            <br>
            <button onclick="createNewTeam()">üöÄ Start Board</button>
        </div>

        <!-- Main Interface -->
        <div id="mainInterface">
            <div class="tabs">
                <div class="current-team">
                    üë• Team: <span id="currentTeamDisplay">Geen team geselecteerd</span>
                </div>
                
                <button class="tab-button active" onclick="switchTab('board')">üìã Scrum Board</button>
                <button class="tab-button" onclick="switchTab('review')">üîç Sprint Review</button>
                <button class="tab-button" onclick="switchTab('retro')">üí≠ Sprint Retrospective</button>
                
                <div class="save-controls">
                    <button class="save-btn" onclick="saveBoard()">üíæ Opslaan</button>
                    <button class="admin-btn" onclick="switchTab('admin')">üë®‚Äçüè´ Docent/Admin</button>
                    <button class="export-btn" onclick="exportBoard()">üì• Export</button>
                </div>
            </div>

            <div id="statusMessage" class="status-message"></div>

        <!-- Scrum Board Tab -->
        <div id="board" class="tab-content active">
            <div class="sprint-info">
                <div class="info-card">
                    <h4>Sprint Nummer</h4>
                    <p contenteditable="true">Sprint #1</p>
                </div>
                <div class="info-card">
                    <h4>Sprint Doel</h4>
                    <p contenteditable="true">Chemie H3 Afronden</p>
                </div>
                <div class="info-card">
                    <h4>Sprint Duur</h4>
                    <p contenteditable="true">2 Weken</p>
                </div>
                <div class="info-card">
                    <h4>Team Leden</h4>
                    <p contenteditable="true">5 Leerlingen</p>
                </div>
            </div>

            <div class="board">
                <div class="column">
                    <div class="column-header backlog">üìö Product Backlog</div>
                    <div id="backlog-cards" class="cards-container">
                        <div class="card" draggable="true">
                            <button class="delete-card" onclick="deleteCard(this)">√ó</button>
                            <div class="card-title">Paragraaf 3.1 lezen</div>
                            <div class="card-description">Atoomtheorie bestuderen</div>
                            <div class="card-meta">
                                <span>üë§ Team</span>
                                <span>‚è±Ô∏è 2 uur</span>
                            </div>
                        </div>
                        <div class="card" draggable="true">
                            <button class="delete-card" onclick="deleteCard(this)">√ó</button>
                            <div class="card-title">Huiswerk maken</div>
                            <div class="card-description">Opgaven 1-10</div>
                            <div class="card-meta">
                                <span>üë§ Iedereen</span>
                                <span>‚è±Ô∏è 1 uur</span>
                            </div>
                        </div>
                    </div>
                    <button class="add-card-btn" onclick="openModal('backlog')">+ Taak toevoegen</button>
                </div>

                <div class="column">
                    <div class="column-header sprint-backlog">üéØ Sprint Backlog</div>
                    <div id="sprint-backlog-cards" class="cards-container">
                        <div class="card" draggable="true">
                            <button class="delete-card" onclick="deleteCard(this)">√ó</button>
                            <div class="card-title">Samenvatting maken</div>
                            <div class="card-description">Kernbegrippen paragraaf 3</div>
                            <div class="card-meta">
                                <span>üë§ Team</span>
                                <span>‚è±Ô∏è 1.5 uur</span>
                            </div>
                        </div>
                    </div>
                    <button class="add-card-btn" onclick="openModal('sprint-backlog')">+ Taak toevoegen</button>
                </div>

                <div class="column">
                    <div class="column-header todo">üìå To Do</div>
                    <div id="todo-cards" class="cards-container">
                        <div class="card" draggable="true">
                            <button class="delete-card" onclick="deleteCard(this)">√ó</button>
                            <div class="card-title">Oefenopgaven maken</div>
                            <div class="card-description">Opgaven 11-15</div>
                            <div class="card-meta">
                                <span>üë§ Anna</span>
                                <span>‚è±Ô∏è 1 uur</span>
                            </div>
                        </div>
                    </div>
                    <button class="add-card-btn" onclick="openModal('todo')">+ Taak toevoegen</button>
                </div>

                <div class="column">
                    <div class="column-header doing">‚ö° In Progress</div>
                    <div id="doing-cards" class="cards-container">
                        <div class="card" draggable="true">
                            <button class="delete-card" onclick="deleteCard(this)">√ó</button>
                            <div class="card-title">Presentatie voorbereiden</div>
                            <div class="card-description">PowerPoint over atoommodel</div>
                            <div class="card-meta">
                                <span>üë§ Bas</span>
                                <span>‚è±Ô∏è 3 uur</span>
                            </div>
                        </div>
                    </div>
                    <button class="add-card-btn" onclick="openModal('doing')">+ Taak toevoegen</button>
                </div>

                <div class="column">
                    <div class="column-header review">üëÄ Review</div>
                    <div id="review-cards" class="cards-container">
                        <div class="card" draggable="true">
                            <button class="delete-card" onclick="deleteCard(this)">√ó</button>
                            <div class="card-title">Oefentoets nakijken</div>
                            <div class="card-description">Antwoorden controleren</div>
                            <div class="card-meta">
                                <span>üë§ Clara</span>
                                <span>‚è±Ô∏è 0.5 uur</span>
                            </div>
                        </div>
                    </div>
                    <button class="add-card-btn" onclick="openModal('review')">+ Taak toevoegen</button>
                </div>

                <div class="column">
                    <div class="column-header done">‚úÖ Done</div>
                    <div id="done-cards" class="cards-container">
                        <div class="card" draggable="true">
                            <button class="delete-card" onclick="deleteCard(this)">√ó</button>
                            <div class="card-title">Video bekijken</div>
                            <div class="card-description">Educatieve video atoommodel</div>
                            <div class="card-meta">
                                <span>üë§ David</span>
                                <span>‚úì Klaar</span>
                            </div>
                        </div>
                    </div>
                    <button class="add-card-btn" onclick="openModal('done')">+ Taak toevoegen</button>
                </div>
            </div>
        </div>

        <!-- Sprint Review Tab -->
        <div id="review" class="tab-content">
            <h2 style="color: #667eea; margin-bottom: 20px;">üîç Sprint Review Vragen</h2>
            <p style="margin-bottom: 30px; color: #666;">De Sprint Review is een moment om te reflecteren op wat er deze sprint is bereikt en om feedback te verzamelen.</p>

            <div class="question-category">
                <h3>üì¶ Product & Resultaten</h3>
                <div class="question">
                    <strong>1. Wat hebben we deze sprint opgeleverd?</strong>
                    <textarea class="answer-area" placeholder="Beschrijf de belangrijkste resultaten en deliverables..."></textarea>
                </div>
                <div class="question">
                    <strong>2. Welke leerdoelen hebben we behaald?</strong>
                    <textarea class="answer-area" placeholder="Geef aan welke leerdoelen zijn gerealiseerd..."></textarea>
                </div>
                <div class="question">
                    <strong>3. Wat is er af en voldoet aan de 'Definition of Done'?</strong>
                    <textarea class="answer-area" placeholder="Lijst de voltooide taken op die aan alle criteria voldoen..."></textarea>
                </div>
            </div>

            <div class="question-category">
                <h3>üéØ Sprint Doel</h3>
                <div class="question">
                    <strong>4. Hebben we ons sprint doel bereikt? Waarom wel/niet?</strong>
                    <textarea class="answer-area" placeholder="Evalueer of het sprint doel is behaald..."></textarea>
                </div>
                <div class="question">
                    <strong>5. Welke taken zijn niet afgerond en waarom niet?</strong>
                    <textarea class="answer-area" placeholder="Beschrijf de onvoltooide taken en de redenen..."></textarea>
                </div>
            </div>

            <div class="question-category">
                <h3>üí° Demo & Feedback</h3>
                <div class="question">
                    <strong>6. Wat kunnen we demonstreren of laten zien?</strong>
                    <textarea class="answer-area" placeholder="Beschrijf wat je kunt presenteren (presentatie, opdracht, project, etc.)..."></textarea>
                </div>
                <div class="question">
                    <strong>7. Welke feedback hebben we ontvangen van de docent/medeleerlingen?</strong>
                    <textarea class="answer-area" placeholder="Noteer de ontvangen feedback..."></textarea>
                </div>
                <div class="question">
                    <strong>8. Wat kunnen we verbeteren op basis van deze feedback?</strong>
                    <textarea class="answer-area" placeholder="Beschrijf concrete verbeterpunten..."></textarea>
                </div>
            </div>

            <div class="question-category">
                <h3>üìä Cijfers & Kwaliteit</h3>
                <div class="question">
                    <strong>9. Welke cijfers/resultaten hebben we behaald?</strong>
                    <textarea class="answer-area" placeholder="Noteer behaalde cijfers en toetsresultaten..."></textarea>
                </div>
                <div class="question">
                    <strong>10. Zijn we tevreden met de kwaliteit van ons werk?</strong>
                    <textarea class="answer-area" placeholder="Evalueer de kwaliteit van de opgeleverde taken..."></textarea>
                </div>
            </div>

            <div class="question-category">
                <h3>üîÆ Vooruitblik</h3>
                <div class="question">
                    <strong>11. Wat willen we de volgende sprint anders aanpakken?</strong>
                    <textarea class="answer-area" placeholder="Beschrijf wat je de volgende sprint wilt veranderen..."></textarea>
                </div>
                <div class="question">
                    <strong>12. Welke nieuwe doelen stellen we voor de volgende sprint?</strong>
                    <textarea class="answer-area" placeholder="Formuleer nieuwe doelen voor de komende sprint..."></textarea>
                </div>
            </div>
        </div>

        <!-- Sprint Retrospective Tab -->
        <div id="retro" class="tab-content">
            <h2 style="color: #667eea; margin-bottom: 20px;">üí≠ Sprint Retrospective Vragen</h2>
            <p style="margin-bottom: 30px; color: #666;">De Sprint Retrospective is een moment om te reflecteren op de samenwerking, het proces en om te leren voor de toekomst.</p>

            <div class="question-category">
                <h3>üòä Positieve Reflectie - Wat ging goed?</h3>
                <div class="question">
                    <strong>1. Wat ging er goed deze sprint?</strong>
                    <textarea class="answer-area" placeholder="Noem minimaal 3 positieve punten..."></textarea>
                </div>
                <div class="question">
                    <strong>2. Waar zijn we trots op?</strong>
                    <textarea class="answer-area" placeholder="Beschrijf momenten of resultaten waar je trots op bent..."></textarea>
                </div>
                <div class="question">
                    <strong>3. Welke teamleden hebben goed gepresteerd? Waarom?</strong>
                    <textarea class="answer-area" placeholder="Geef complimenten aan teamgenoten..."></textarea>
                </div>
            </div>

            <div class="question-category">
                <h3>ü§î Kritische Reflectie - Wat kan beter?</h3>
                <div class="question">
                    <strong>4. Wat ging er minder goed deze sprint?</strong>
                    <textarea class="answer-area" placeholder="Benoem verbeterpunten eerlijk maar constructief..."></textarea>
                </div>
                <div class="question">
                    <strong>5. Welke obstakels zijn we tegengekomen?</strong>
                    <textarea class="answer-area" placeholder="Beschrijf problemen of hindernissen..."></textarea>
                </div>
                <div class="question">
                    <strong>6. Wat heeft ons tegengehouden om effectief te zijn?</strong>
                    <textarea class="answer-area" placeholder="Bijvoorbeeld: onduidelijke opdrachten, tijdgebrek, communicatie..."></textarea>
                </div>
            </div>

            <div class="question-category">
                <h3>ü§ù Samenwerking & Communicatie</h3>
                <div class="question">
                    <strong>7. Hoe verliep de samenwerking binnen het team?</strong>
                    <textarea class="answer-area" placeholder="Evalueer de teamdynamiek..."></textarea>
                </div>
                <div class="question">
                    <strong>8. Communiceerden we duidelijk met elkaar?</strong>
                    <textarea class="answer-area" placeholder="Was iedereen op de hoogte? Waren afspraken helder?"></textarea>
                </div>
                <div class="question">
                    <strong>9. Heeft iedereen evenveel bijgedragen?</strong>
                    <textarea class="answer-area" placeholder="Was de taakverdeling eerlijk?"></textarea>
                </div>
                <div class="question">
                    <strong>10. Hoe kunnen we de samenwerking verbeteren?</strong>
                    <textarea class="answer-area" placeholder="Concrete suggesties voor betere samenwerking..."></textarea>
                </div>
            </div>

            <div class="question-category">
                <h3>‚öôÔ∏è Proces & Werkwijze</h3>
                <div class="question">
                    <strong>11. Werkten we gestructureerd volgens Scrum?</strong>
                    <textarea class="answer-area" placeholder="Hielden we ons aan de afspraken, ceremonies en het board?"></textarea>
                </div>
                <div class="question">
                    <strong>12. Was onze planning realistisch?</strong>
                    <textarea class="answer-area" placeholder="Hadden we te veel of te weinig werk ingepland?"></textarea>
                </div>
                <div class="question">
                    <strong>13. Gebruikten we onze tijd effectief?</strong>
                    <textarea class="answer-area" placeholder="Was er veel tijdverspilling? Werkten we gefocust?"></textarea>
                </div>
            </div>

            <div class="question-category">
                <h3>üìö Leren & Ontwikkeling</h3>
                <div class="question">
                    <strong>14. Wat hebben we geleerd deze sprint?</strong>
                    <textarea class="answer-area" placeholder="Zowel inhoudelijk (chemie) als procesmatig (samenwerken)..."></textarea>
                </div>
                <div class="question">
                    <strong>15. Welke vaardigheden hebben we ontwikkeld?</strong>
                    <textarea class="answer-area" placeholder="Denk aan samenwerken, plannen, presenteren, etc..."></textarea>
                </div>
            </div>

            <div class="question-category">
                <h3>üé¨ Acties & Afspraken</h3>
                <div class="question">
                    <strong>16. Welke concrete acties nemen we mee naar de volgende sprint?</strong>
                    <textarea class="answer-area" placeholder="Minimaal 3 concrete actiepunten met wie wat gaat doen..."></textarea>
                </div>
                <div class="question">
                    <strong>17. Welke afspraken maken we met elkaar?</strong>
                    <textarea class="answer-area" placeholder="Teamafspraken over gedrag, communicatie, deadlines..."></textarea>
                </div>
                <div class="question">
                    <strong>18. Wat gaan we stoppen, starten of doorgaan met doen?</strong>
                    <textarea class="answer-area" placeholder="STOP: ... | START: ... | CONTINUE: ..."></textarea>
                </div>
            </div>

            <div class="question-category">
                <h3>üåü Persoonlijke Reflectie</h3>
                <div class="question">
                    <strong>19. Hoe heb ik zelf bijgedragen aan het team?</strong>
                    <textarea class="answer-area" placeholder="Persoonlijke reflectie op je eigen rol en inzet..."></textarea>
                </div>
                <div class="question">
                    <strong>20. Wat wil ik zelf de volgende sprint beter doen?</strong>
                    <textarea class="answer-area" placeholder="Persoonlijk leerpunt of ontwikkeldoel..."></textarea>
                </div>
            </div>
        </div>

        <!-- Admin/Teacher Tab -->
        <div id="admin" class="tab-content">
            <h2 style="color: #667eea; margin-bottom: 20px;">üë®‚Äçüè´ Docent Overzicht - Alle Teams</h2>
            
            <div style="background: #fff3cd; padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
                <strong>üí° Tip voor docenten:</strong> Hier zie je alle teams die het board gebruiken. Je kunt hun voortgang bekijken en hun boards exporteren voor evaluatie.
            </div>

            <div style="margin-bottom: 20px;">
                <button class="btn btn-primary" onclick="refreshTeamList()">üîÑ Ververs Lijst</button>
                <button class="btn btn-secondary" onclick="exportAllTeams()">üì• Export Alle Teams</button>
                <button class="btn" style="background: #28a745; color: white;" onclick="switchTeam()">‚ûï Wissel van Team</button>
            </div>

            <div id="teamList" class="team-list">
                <p style="text-align: center; color: #999; padding: 40px;">Laden...</p>
            </div>
        </div>
        </div>
    </div>

    <!-- Modal for adding cards -->
    <div id="cardModal" class="modal">
        <div class="modal-content">
            <h3>Nieuwe Taak Toevoegen</h3>
            <input type="text" id="cardTitle" placeholder="Titel van de taak">
            <textarea id="cardDescription" placeholder="Beschrijving" rows="3"></textarea>
            <input type="text" id="cardAssignee" placeholder="Wie doet dit? (bijv. Anna)">
            <input type="text" id="cardTime" placeholder="Geschatte tijd (bijv. 2 uur)">
            <div class="modal-buttons">
                <button class="btn btn-secondary" onclick="closeModal()">Annuleren</button>
                <button class="btn btn-primary" onclick="addCard()">Toevoegen</button>
            </div>
        </div>
    </div>

    <script>
        let currentColumn = '';
        let currentTeam = '';

        // Initialize on page load
        window.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            // Check if user has a current team
            currentTeam = localStorage.getItem('currentTeam');
            
            if (!currentTeam) {
                // Show welcome screen for new users
                document.getElementById('welcomeScreen').style.display = 'block';
                document.getElementById('mainInterface').style.display = 'none';
            } else {
                // Load existing team
                document.getElementById('welcomeScreen').style.display = 'none';
                document.getElementById('mainInterface').style.display = 'block';
                document.getElementById('currentTeamDisplay').textContent = currentTeam;
                loadBoard();
            }
        }

        function createNewTeam() {
            const teamName = document.getElementById('newTeamName').value.trim();
            
            if (!teamName) {
                alert('Voer een teamnaam in!');
                return;
            }

            // Set current team
            currentTeam = teamName;
            localStorage.setItem('currentTeam', teamName);
            
            // Add to team list
            let allTeams = JSON.parse(localStorage.getItem('allTeams') || '[]');
            if (!allTeams.includes(teamName)) {
                allTeams.push(teamName);
                localStorage.setItem('allTeams', JSON.stringify(allTeams));
            }

            // Show main interface
            document.getElementById('welcomeScreen').style.display = 'none';
            document.getElementById('mainInterface').style.display = 'block';
            document.getElementById('currentTeamDisplay').textContent = currentTeam;
            
            showStatus(`‚úÖ Team "${teamName}" aangemaakt!`);
        }

        function switchTeam() {
            const allTeams = JSON.parse(localStorage.getItem('allTeams') || '[]');
            
            if (allTeams.length === 0) {
                document.getElementById('welcomeScreen').style.display = 'block';
                document.getElementById('mainInterface').style.display = 'none';
                return;
            }

            const teamList = allTeams.join('\n');
            const newTeam = prompt(`Beschikbare teams:\n${teamList}\n\nVoer een teamnaam in (bestaand of nieuw):`, currentTeam);
            
            if (newTeam && newTeam.trim()) {
                currentTeam = newTeam.trim();
                localStorage.setItem('currentTeam', currentTeam);
                
                // Add to team list if new
                if (!allTeams.includes(currentTeam)) {
                    allTeams.push(currentTeam);
                    localStorage.setItem('allTeams', JSON.stringify(allTeams));
                }
                
                document.getElementById('currentTeamDisplay').textContent = currentTeam;
                loadBoard();
                showStatus(`‚úÖ Gewisseld naar team "${currentTeam}"`);
            }
        }

        function refreshTeamList() {
            const allTeams = JSON.parse(localStorage.getItem('allTeams') || '[]');
            const teamListDiv = document.getElementById('teamList');
            
            if (allTeams.length === 0) {
                teamListDiv.innerHTML = '<p style="text-align: center; color: #999; padding: 40px;">Nog geen teams aangemaakt.</p>';
                return;
            }

            let html = '';
            allTeams.forEach(team => {
                const teamData = JSON.parse(localStorage.getItem(`scrumBoard_${team}`) || 'null');
                const savedDate = teamData ? new Date(teamData.savedAt).toLocaleString('nl-NL') : 'Nog niet opgeslagen';
                const taskCount = teamData ? Object.values(teamData.columns).reduce((sum, col) => sum + col.length, 0) : 0;
                
                html += `
                    <div class="team-item">
                        <div class="team-item-info">
                            <h4>üë• ${team}</h4>
                            <p>üìã ${taskCount} taken | üíæ Laatst opgeslagen: ${savedDate}</p>
                        </div>
                        <div class="team-item-actions">
                            <button class="btn-view" onclick="viewTeamBoard('${team}')">üëÅÔ∏è Bekijk</button>
                            <button class="btn-view" onclick="exportTeamBoard('${team}')">üì• Export</button>
                            <button class="btn-delete-team" onclick="deleteTeam('${team}')">üóëÔ∏è Verwijder</button>
                        </div>
                    </div>
                `;
            });
            
            teamListDiv.innerHTML = html;
        }

        function viewTeamBoard(teamName) {
            currentTeam = teamName;
            localStorage.setItem('currentTeam', currentTeam);
            document.getElementById('currentTeamDisplay').textContent = currentTeam;
            loadBoard();
            switchTab('board');
            showStatus(`‚úÖ Team "${teamName}" geladen`);
        }

        function exportTeamBoard(teamName) {
            const teamData = JSON.parse(localStorage.getItem(`scrumBoard_${teamName}`) || 'null');
            
            if (!teamData) {
                showStatus(`‚ö†Ô∏è Geen data gevonden voor team "${teamName}"`, true);
                return;
            }

            const dataStr = JSON.stringify(teamData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `scrum-board-${teamName}-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showStatus(`‚úÖ Board van "${teamName}" ge√´xporteerd!`);
        }

        function exportAllTeams() {
            const allTeams = JSON.parse(localStorage.getItem('allTeams') || '[]');
            const allData = {
                exportDate: new Date().toISOString(),
                totalTeams: allTeams.length,
                teams: {}
            };

            allTeams.forEach(team => {
                const teamData = JSON.parse(localStorage.getItem(`scrumBoard_${team}`) || 'null');
                if (teamData) {
                    allData.teams[team] = teamData;
                }
            });

            const dataStr = JSON.stringify(allData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `alle-teams-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showStatus(`‚úÖ Alle ${allTeams.length} teams ge√´xporteerd!`);
        }

        function deleteTeam(teamName) {
            if (!confirm(`Weet je zeker dat je team "${teamName}" wilt verwijderen? Dit kan niet ongedaan worden gemaakt.`)) {
                return;
            }

            // Remove from localStorage
            localStorage.removeItem(`scrumBoard_${teamName}`);
            
            // Remove from team list
            let allTeams = JSON.parse(localStorage.getItem('allTeams') || '[]');
            allTeams = allTeams.filter(t => t !== teamName);
            localStorage.setItem('allTeams', JSON.stringify(allTeams));

            // If current team was deleted, clear it
            if (currentTeam === teamName) {
                localStorage.removeItem('currentTeam');
                currentTeam = '';
            }

            refreshTeamList();
            showStatus(`‚úÖ Team "${teamName}" verwijderd`);
        }

        // Status message function
        function showStatus(message, isError = false) {
            const statusDiv = document.getElementById('statusMessage');
            statusDiv.textContent = message;
            statusDiv.className = 'status-message show';
            if (isError) {
                statusDiv.classList.add('error');
            }
            
            setTimeout(() => {
                statusDiv.classList.remove('show');
            }, 3000);
        }

        // Save board to localStorage (team-specific)
        function saveBoard() {
            if (!currentTeam) {
                showStatus('‚ö†Ô∏è Geen team geselecteerd', true);
                return;
            }

            const boardData = {
                teamName: currentTeam,
                columns: {},
                sprintInfo: {
                    number: document.querySelector('.info-card:nth-child(1) p').textContent,
                    goal: document.querySelector('.info-card:nth-child(2) p').textContent,
                    duration: document.querySelector('.info-card:nth-child(3) p').textContent,
                    team: document.querySelector('.info-card:nth-child(4) p').textContent
                },
                savedAt: new Date().toISOString()
            };

            // Save all columns
            const columns = ['backlog', 'sprint-backlog', 'todo', 'doing', 'review', 'done'];
            columns.forEach(columnId => {
                const cards = document.querySelectorAll(`#${columnId}-cards .card`);
                boardData.columns[columnId] = [];
                
                cards.forEach(card => {
                    boardData.columns[columnId].push({
                        title: card.querySelector('.card-title').textContent,
                        description: card.querySelector('.card-description').textContent,
                        assignee: card.querySelector('.card-meta span:first-child').textContent.replace('üë§ ', ''),
                        time: card.querySelector('.card-meta span:last-child').textContent.replace('‚è±Ô∏è ', '').replace('‚úì ', '')
                    });
                });
            });

            // Save to team-specific localStorage key
            localStorage.setItem(`scrumBoard_${currentTeam}`, JSON.stringify(boardData));
            showStatus('‚úÖ Board opgeslagen!');
        }

        // Load board from localStorage (team-specific)
        function loadBoard() {
            if (!currentTeam) {
                return;
            }

            const savedData = localStorage.getItem(`scrumBoard_${currentTeam}`);
            
            if (!savedData) {
                // New team, no data yet
                return;
            }

            const boardData = JSON.parse(savedData);

            // Clear all columns
            const columns = ['backlog', 'sprint-backlog', 'todo', 'doing', 'review', 'done'];
            columns.forEach(columnId => {
                const container = document.getElementById(`${columnId}-cards`);
                container.innerHTML = '';
            });

            // Load all cards
            columns.forEach(columnId => {
                const container = document.getElementById(`${columnId}-cards`);
                const cards = boardData.columns[columnId] || [];
                
                cards.forEach(cardData => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.draggable = true;
                    card.innerHTML = `
                        <button class="delete-card" onclick="deleteCard(this)">√ó</button>
                        <div class="card-title">${cardData.title}</div>
                        <div class="card-description">${cardData.description}</div>
                        <div class="card-meta">
                            <span>üë§ ${cardData.assignee}</span>
                            <span>‚è±Ô∏è ${cardData.time}</span>
                        </div>
                    `;
                    addDragListeners(card);
                    container.appendChild(card);
                });
            });

            // Update sprint info if available
            if (boardData.sprintInfo) {
                document.querySelector('.info-card:nth-child(1) p').textContent = boardData.sprintInfo.number;
                document.querySelector('.info-card:nth-child(2) p').textContent = boardData.sprintInfo.goal;
                document.querySelector('.info-card:nth-child(3) p').textContent = boardData.sprintInfo.duration;
                document.querySelector('.info-card:nth-child(4) p').textContent = boardData.sprintInfo.team;
            }
        }

        // Export board as JSON file
        function exportBoard() {
            if (!currentTeam) {
                showStatus('‚ö†Ô∏è Geen team geselecteerd', true);
                return;
            }

            const boardData = {
                teamName: currentTeam,
                columns: {},
                sprintInfo: {
                    number: document.querySelector('.info-card:nth-child(1) p').textContent,
                    goal: document.querySelector('.info-card:nth-child(2) p').textContent,
                    duration: document.querySelector('.info-card:nth-child(3) p').textContent,
                    team: document.querySelector('.info-card:nth-child(4) p').textContent
                },
                exportedAt: new Date().toISOString()
            };

            // Collect all cards
            const columns = ['backlog', 'sprint-backlog', 'todo', 'doing', 'review', 'done'];
            columns.forEach(columnId => {
                const cards = document.querySelectorAll(`#${columnId}-cards .card`);
                boardData.columns[columnId] = [];
                
                cards.forEach(card => {
                    boardData.columns[columnId].push({
                        title: card.querySelector('.card-title').textContent,
                        description: card.querySelector('.card-description').textContent,
                        assignee: card.querySelector('.card-meta span:first-child').textContent.replace('üë§ ', ''),
                        time: card.querySelector('.card-meta span:last-child').textContent.replace('‚è±Ô∏è ', '').replace('‚úì ', '')
                    });
                });
            });

            // Create download link
            const dataStr = JSON.stringify(boardData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `scrum-board-${currentTeam}-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showStatus('‚úÖ Board ge√´xporteerd!');
        }

        // Auto-save every 30 seconds
        setInterval(() => {
            saveBoard();
        }, 30000);

        // Delete card function
        function deleteCard(button) {
            if (confirm('Weet je zeker dat je deze taak wilt verwijderen?')) {
                const card = button.closest('.card');
                card.style.transition = 'all 0.3s';
                card.style.transform = 'scale(0)';
                card.style.opacity = '0';
                setTimeout(() => {
                    card.remove();
                }, 300);
            }
        }

        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            
            // Highlight active tab button
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(btn => {
                if (btn.textContent.includes(tabName === 'board' ? 'Board' : tabName === 'review' ? 'Review' : 'Retrospective')) {
                    btn.classList.add('active');
                }
            });

            // Refresh team list when opening admin tab
            if (tabName === 'admin') {
                refreshTeamList();
            }
        }

        // Modal functions
        function openModal(column) {
            currentColumn = column;
            document.getElementById('cardModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('cardModal').classList.remove('active');
            document.getElementById('cardTitle').value = '';
            document.getElementById('cardDescription').value = '';
            document.getElementById('cardAssignee').value = '';
            document.getElementById('cardTime').value = '';
        }

        function addCard() {
            const title = document.getElementById('cardTitle').value;
            const description = document.getElementById('cardDescription').value;
            const assignee = document.getElementById('cardAssignee').value || 'Team';
            const time = document.getElementById('cardTime').value || '1 uur';

            if (!title) {
                alert('Voer minimaal een titel in!');
                return;
            }

            const card = document.createElement('div');
            card.className = 'card';
            card.draggable = true;
            card.innerHTML = `
                <button class="delete-card" onclick="deleteCard(this)">√ó</button>
                <div class="card-title">${title}</div>
                <div class="card-description">${description}</div>
                <div class="card-meta">
                    <span>üë§ ${assignee}</span>
                    <span>‚è±Ô∏è ${time}</span>
                </div>
            `;

            addDragListeners(card);

            const container = document.getElementById(currentColumn + '-cards');
            container.appendChild(card);

            closeModal();
        }

        // Drag and drop functionality
        function addDragListeners(card) {
            card.addEventListener('dragstart', dragStart);
            card.addEventListener('dragend', dragEnd);
        }

        let draggedElement = null;

        function dragStart(e) {
            draggedElement = this;
            this.style.opacity = '0.5';
        }

        function dragEnd(e) {
            this.style.opacity = '1';
        }

        // Add drag listeners to all existing cards
        document.querySelectorAll('.card').forEach(card => {
            addDragListeners(card);
        });

        // Make columns droppable
        document.querySelectorAll('.cards-container').forEach(container => {
            container.addEventListener('dragover', e => {
                e.preventDefault();
            });

            container.addEventListener('drop', e => {
                e.preventDefault();
                if (draggedElement) {
                    container.appendChild(draggedElement);
                }
            });
        });

        // Save answers to localStorage
        document.querySelectorAll('.answer-area').forEach(textarea => {
            const key = textarea.previousElementSibling.textContent;
            
            // Load saved answer
            const saved = localStorage.getItem(key);
            if (saved) {
                textarea.value = saved;
            }

            // Save on input
            textarea.addEventListener('input', function() {
                localStorage.setItem(key, this.value);
            });
        });

        // Close modal when clicking outside
        document.getElementById('cardModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>